<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>04-Basic Math Add or Subtract-基礎數學加減</title>
</head>
<body>
  <h2>Basic Math (Add or Subtract)</h2>
  <p>In this kata, you will do addition and subtraction on a given string. The return value must be also a string.Note: the input will not be empty.</p>
</body>
<script>
  /*
  * plus +
  * minus -
  */

  // 自解
  function calculate(str) {
    let newStr = str.replaceAll('plus', '+').replaceAll('minus', '-')
    let result = newStr.match(/(-?\d+)/g)

    function getSum(total, num) {
      return total + num;
    }

    let numbers = result.map(i => parseInt(i)).reduce(getSum).toString()

    return numbers
  }


  /*
  * 參考Code
  * eval() 全局屬性/函式，計算 JavaScript 字串，把它當作程式碼來執行
  */
  // function calculate(str) {
  //   return eval(str.replace(/plus/gi, '+').replace(/minus/gi, '-')).toString();
  // }

  // calculate("1plus2plus3plus4")
  // calculate('1minus2minus3minus4')
  calculate('1plus2plus3minus4plus2plus9')
</script>
</html>